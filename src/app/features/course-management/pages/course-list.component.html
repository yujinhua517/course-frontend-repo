<!-- course-list.component.html -->
<div class="course-list-container">
    <!-- üîç ÊêúÂ∞ãÂíåÁØ©ÈÅ∏ÂçÄÂ°ä -->
    <div class="search-section mb-4">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">
                    <i class="bi bi-funnel me-2"></i>
                    Ë™≤Á®ãÊêúÂ∞ãËàáÁØ©ÈÅ∏
                </h5>
                <button type="button" class="btn btn-outline-secondary btn-sm" (click)="onClearSearch()"
                    [disabled]="!hasActiveFilters()">
                    <i class="bi bi-arrow-clockwise me-1"></i>
                    Ê∏ÖÈô§ÁØ©ÈÅ∏
                </button>
            </div>

            <div class="card-body">
                <!-- ÈóúÈçµÂ≠óÊêúÂ∞ã -->
                <div class="row mb-3">
                    <div class="col-md-8">
                        <label for="searchKeyword" class="form-label">
                            Ë™≤Á®ãÂêçÁ®±
                            <span class="text-danger">*</span>
                        </label>
                        <div class="input-group">
                            <input type="text" id="searchKeyword" class="form-control" placeholder="Ë´ãËº∏ÂÖ•Ë™≤Á®ãÂêçÁ®±ÈóúÈçµÂ≠ó"
                                [(ngModel)]="searchKeyword" (keyup.enter)="onSearch(searchKeyword())" role="searchbox"
                                aria-label="ÊêúÂ∞ãË™≤Á®ãÂêçÁ®±" [disabled]="loading()">
                            <button type="button" class="btn btn-primary" (click)="onSearch(searchKeyword())"
                                [disabled]="loading()">
                                @if (loading()) {
                                <span class="spinner-border spinner-border-sm me-1" role="status"
                                    aria-hidden="true"></span>
                                } @else {
                                <i class="bi bi-search me-1"></i>
                                }
                                ÊêúÂ∞ã
                            </button>
                        </div>

                        <!-- ‚úÖ ÁØ©ÈÅ∏Ê¢ù‰ª∂È°ØÁ§∫ÂçÄÂüü -->
                        @if (hasActiveFilters()) {
                        <div class="row mt-3">
                            <div class="col-12">
                                <div class="alert alert-info d-flex align-items-center justify-content-between">
                                    <div class="d-flex align-items-center flex-wrap">
                                        <i class="bi bi-funnel-fill me-2"></i>
                                        <span class="fw-semibold me-2">ÁõÆÂâçÁØ©ÈÅ∏Ê¢ù‰ª∂Ôºö</span>

                                        @if (currentFilters().courseEventId) {
                                        <span class="badge bg-primary me-1 mb-1">
                                            Ë™≤Á®ãÊ¥ªÂãïÔºöÊ¥ªÂãï {{ currentFilters().courseEventId }}
                                            <button type="button" class="btn-close btn-close-white ms-1"
                                                (click)="onClearFilter('courseEventId')" aria-label="ÁßªÈô§Ë™≤Á®ãÊ¥ªÂãïÁØ©ÈÅ∏"></button>
                                        </span>
                                        }

                                        @if (currentFilters().learningType) {
                                        <span class="badge bg-success me-1 mb-1">
                                            Â≠∏ÁøíÊñπÂºèÔºö{{ currentFilters().learningType }}
                                            <button type="button" class="btn-close btn-close-white ms-1"
                                                (click)="onClearFilter('learningType')" aria-label="ÁßªÈô§Â≠∏ÁøíÊñπÂºèÁØ©ÈÅ∏"></button>
                                        </span>
                                        }

                                        @if (currentFilters().skillType) {
                                        <span class="badge bg-warning me-1 mb-1">
                                            ÊäÄËÉΩÈ°ûÂûãÔºö{{ currentFilters().skillType }}
                                            <button type="button" class="btn-close btn-close-white ms-1"
                                                (click)="onClearFilter('skillType')" aria-label="ÁßªÈô§ÊäÄËÉΩÈ°ûÂûãÁØ©ÈÅ∏"></button>
                                        </span>
                                        }

                                        @if (currentFilters().level) {
                                        <span class="badge bg-info me-1 mb-1">
                                            Á≠âÁ¥öÔºö{{ currentFilters().level }}
                                            <button type="button" class="btn-close btn-close-white ms-1"
                                                (click)="onClearFilter('level')" aria-label="ÁßªÈô§Á≠âÁ¥öÁØ©ÈÅ∏"></button>
                                        </span>
                                        }

                                        @if (currentFilters().isActive !== undefined) {
                                        <span class="badge bg-secondary me-1 mb-1">
                                            ÁãÄÊÖãÔºö{{ currentFilters().isActive ? 'ÂïüÁî®' : 'ÂÅúÁî®' }}
                                            <button type="button" class="btn-close btn-close-white ms-1"
                                                (click)="onClearFilter('isActive')" aria-label="ÁßªÈô§ÁãÄÊÖãÁØ©ÈÅ∏"></button>
                                        </span>
                                        }
                                    </div>

                                    <button type="button" class="btn btn-outline-secondary btn-sm ms-2"
                                        (click)="onClearAllFilters()">
                                        <i class="bi bi-x-circle me-1"></i>
                                        Ê∏ÖÈô§ÊâÄÊúâÁØ©ÈÅ∏
                                    </button>
                                </div>
                            </div>
                        </div>
                        }
                    </div>

                    <div class="col-md-4">
                        <label for="statusSelect" class="form-label">ÂïüÁî®ÁãÄÊÖã</label>
                        <select id="statusSelect" class="form-select"
                            [value]="currentFilters().isActive === true ? 'true' : currentFilters().isActive === false ? 'false' : ''"
                            (change)="onFilterChange('isActive', $any($event.target).value)" [disabled]="loading()">
                            <option value="">ÂÖ®ÈÉ®ÁãÄÊÖã</option>
                            <option value="true">ÂïüÁî®</option>
                            <option value="false">ÂÅúÁî®</option>
                        </select>
                    </div>
                </div>

                <!-- ÁØ©ÈÅ∏Ê¢ù‰ª∂ -->
                <div class="row">
                    <div class="col-md-2">
                        <label for="courseEventSelect" class="form-label">
                            Ë™≤Á®ãÊ¥ªÂãï
                            @if (currentFilters().courseEventId) {
                            <button type="button" class="btn btn-link btn-sm p-0 ms-1 text-danger"
                                (click)="onClearFilter('courseEventId')" title="Ê∏ÖÈô§Ë™≤Á®ãÊ¥ªÂãïÁØ©ÈÅ∏">
                                <i class="bi bi-x-circle"></i>
                            </button>
                            }
                        </label>
                        <select id="courseEventSelect" class="form-select"
                            [value]="currentFilters().courseEventId?.toString() || ''"
                            (change)="onFilterChange('courseEventId', $any($event.target).value || undefined)"
                            [disabled]="loading()">
                            <option value="">ÂÖ®ÈÉ®Ë™≤Á®ãÊ¥ªÂãï</option>
                            <option value="1">Ë™≤Á®ãÊ¥ªÂãï 1</option>
                            <option value="2">Ë™≤Á®ãÊ¥ªÂãï 2</option>
                            <option value="3">Ë™≤Á®ãÊ¥ªÂãï 3</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="learningTypeSelect" class="form-label">
                            Â≠∏ÁøíÊñπÂºè
                            @if (currentFilters().learningType) {
                            <button type="button" class="btn btn-link btn-sm p-0 ms-1 text-danger"
                                (click)="onClearFilter('learningType')" title="Ê∏ÖÈô§Â≠∏ÁøíÊñπÂºèÁØ©ÈÅ∏">
                                <i class="bi bi-x-circle"></i>
                            </button>
                            }
                        </label>
                        <select id="learningTypeSelect" class="form-select"
                            [value]="currentFilters().learningType || ''"
                            (change)="onFilterChange('learningType', $any($event.target).value || undefined)"
                            [disabled]="loading()">
                            <option value="">ÂÖ®ÈÉ®ÊñπÂºè</option>
                            @for (option of learningTypeOptions; track option.value) {
                            <option [value]="option.value">{{ option.label }}</option>
                            }
                        </select>
                    </div>

                    <div class="col-md-3">
                        <label for="skillTypeSelect" class="form-label">
                            ÊäÄËÉΩÈ°ûÂûã
                            @if (currentFilters().skillType) {
                            <button type="button" class="btn btn-link btn-sm p-0 ms-1 text-danger"
                                (click)="onClearFilter('skillType')" title="Ê∏ÖÈô§ÊäÄËÉΩÈ°ûÂûãÁØ©ÈÅ∏">
                                <i class="bi bi-x-circle"></i>
                            </button>
                            }
                        </label>
                        <select id="skillTypeSelect" class="form-select" [value]="currentFilters().skillType || ''"
                            (change)="onFilterChange('skillType', $any($event.target).value || undefined)"
                            [disabled]="loading()">
                            <option value="">ÂÖ®ÈÉ®È°ûÂûã</option>
                            @for (option of skillTypeOptions; track option.value) {
                            <option [value]="option.value">{{ option.label }}</option>
                            }
                        </select>
                    </div>

                    <div class="col-md-3">
                        <label for="levelSelect" class="form-label">
                            Ë™≤Á®ãÁ≠âÁ¥ö
                            @if (currentFilters().level) {
                            <button type="button" class="btn btn-link btn-sm p-0 ms-1 text-danger"
                                (click)="onClearFilter('level')" title="Ê∏ÖÈô§Á≠âÁ¥öÁØ©ÈÅ∏">
                                <i class="bi bi-x-circle"></i>
                            </button>
                            }
                        </label>
                        <select id="levelSelect" class="form-select" [value]="currentFilters().level || ''"
                            (change)="onFilterChange('level', $any($event.target).value || undefined)"
                            [disabled]="loading()">
                            <option value="">ÂÖ®ÈÉ®Á≠âÁ¥ö</option>
                            @for (option of levelOptions; track option.value) {
                            <option [value]="option.value">{{ option.label }}</option>
                            }
                        </select>
                    </div>

                    <div class="col-md-3">
                        <label for="statusSelect" class="form-label">
                            ÂïüÁî®ÁãÄÊÖã
                            @if (currentFilters().isActive !== undefined) {
                            <button type="button" class="btn btn-link btn-sm p-0 ms-1 text-danger"
                                (click)="onClearFilter('isActive')" title="Ê∏ÖÈô§ÁãÄÊÖãÁØ©ÈÅ∏">
                                <i class="bi bi-x-circle"></i>
                            </button>
                            }
                        </label>
                        <select id="statusSelect" class="form-select"
                            [value]="currentFilters().isActive === true ? 'true' : currentFilters().isActive === false ? 'false' : ''"
                            (change)="onFilterChange('isActive', $any($event.target).value)" [disabled]="loading()">
                            <option value="">ÂÖ®ÈÉ®ÁãÄÊÖã</option>
                            <option value="true">ÂïüÁî®</option>
                            <option value="false">ÂÅúÁî®</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- üìä Áµ±Ë®àË≥áË®äÂíåÊìç‰ΩúÊåâÈàï -->
    <div class="row mb-3">
        <div class="col-md-8">
            <div class="d-flex align-items-center">
                <span class="badge bg-primary me-2">
                    Á∏ΩË®à {{ totalRecords() }} ÈñÄË™≤Á®ã
                </span>
                @if (hasActiveFilters()) {
                <span class="badge bg-info me-2">
                    <i class="bi bi-funnel-fill me-1"></i>
                    Â∑≤Â•óÁî® {{ activeFiltersCount() }} È†ÖÁØ©ÈÅ∏
                </span>
                }
                @if (totalPages() > 1) {
                <span class="text-muted small">
                    Á¨¨ {{ currentPage() }} È†ÅÔºåÂÖ± {{ totalPages() }} È†Å
                </span>
                }
            </div>
        </div>

        <div class="col-md-4 text-end">
            <div class="btn-group" role="group" aria-label="Ë™≤Á®ãÊìç‰Ωú">
                <button type="button" class="btn btn-success" (click)="onActionClick('create')" [disabled]="loading()">
                    <i class="bi bi-plus-circle me-1"></i>
                    Êñ∞Â¢ûË™≤Á®ã
                </button>
                <button type="button" class="btn btn-outline-primary" (click)="onActionClick('export')"
                    [disabled]="!hasData() || loading()">
                    <i class="bi bi-download me-1"></i>
                    ÂåØÂá∫
                </button>
                <button type="button" class="btn btn-outline-secondary" (click)="onActionClick('refresh')"
                    [disabled]="loading()">
                    @if (loading()) {
                    <span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
                    } @else {
                    <i class="bi bi-arrow-clockwise me-1"></i>
                    }
                    ÈáçÊñ∞Êï¥ÁêÜ
                </button>
            </div>
        </div>
    </div>

    <!-- üìã Ë™≤Á®ãÂàóË°® -->
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="bi bi-list-ul me-2"></i>
                        Ë™≤Á®ãÂàóË°®
                    </h5>
                </div>

                <div class="card-body p-0">
                    <!-- ËºâÂÖ•ÁãÄÊÖã -->
                    @if (loading()) {
                    <div class="text-center py-5" role="status" aria-live="polite">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">ËºâÂÖ•‰∏≠...</span>
                        </div>
                        <p class="mt-2 text-muted">ËºâÂÖ•Ë™≤Á®ãË≥áÊñô‰∏≠ÔºåË´ãÁ®çÂÄô...</p>
                    </div>
                    } @else if (hasData()) {
                    <!-- Ë™≤Á®ãË°®Ê†º -->
                    <div class="table-responsive">
                        <table class="table table-hover mb-0" role="table" aria-label="Ë™≤Á®ãÂàóË°®">
                            <thead class="table-light">
                                <tr role="row">
                                    <th scope="col" class="text-nowrap">
                                        <button type="button"
                                            class="btn btn-link p-0 text-decoration-none text-dark fw-bold"
                                            (click)="onSort('courseName')"
                                            [attr.aria-label]="getSortAriaLabel('courseName')">
                                            Ë™≤Á®ãÂêçÁ®±
                                            <i [class]="getSortIcon('courseName')" aria-hidden="true"></i>
                                        </button>
                                    </th>
                                    <th scope="col" class="text-nowrap">Ë™≤Á®ãÊ¥ªÂãï</th>
                                    <th scope="col" class="text-nowrap">
                                        <button type="button"
                                            class="btn btn-link p-0 text-decoration-none text-dark fw-bold"
                                            (click)="onSort('learningType')"
                                            [attr.aria-label]="getSortAriaLabel('learningType')">
                                            Â≠∏ÁøíÊñπÂºè
                                            <i [class]="getSortIcon('learningType')" aria-hidden="true"></i>
                                        </button>
                                    </th>
                                    <th scope="col" class="text-nowrap">
                                        <button type="button"
                                            class="btn btn-link p-0 text-decoration-none text-dark fw-bold"
                                            (click)="onSort('skillType')"
                                            [attr.aria-label]="getSortAriaLabel('skillType')">
                                            ÊäÄËÉΩÈ°ûÂûã
                                            <i [class]="getSortIcon('skillType')" aria-hidden="true"></i>
                                        </button>
                                    </th>
                                    <th scope="col" class="text-nowrap">
                                        <button type="button"
                                            class="btn btn-link p-0 text-decoration-none text-dark fw-bold"
                                            (click)="onSort('level')" [attr.aria-label]="getSortAriaLabel('level')">
                                            Á≠âÁ¥ö
                                            <i [class]="getSortIcon('level')" aria-hidden="true"></i>
                                        </button>
                                    </th>
                                    <th scope="col" class="text-nowrap">
                                        <button type="button"
                                            class="btn btn-link p-0 text-decoration-none text-dark fw-bold"
                                            (click)="onSort('hours')" [attr.aria-label]="getSortAriaLabel('hours')">
                                            ÊôÇÊï∏
                                            <i [class]="getSortIcon('hours')" aria-hidden="true"></i>
                                        </button>
                                    </th>
                                    <th scope="col" class="text-nowrap">
                                        <button type="button"
                                            class="btn btn-link p-0 text-decoration-none text-dark fw-bold"
                                            (click)="onSort('isActive')"
                                            [attr.aria-label]="getSortAriaLabel('isActive')">
                                            ÁãÄÊÖã
                                            <i [class]="getSortIcon('isActive')" aria-hidden="true"></i>
                                        </button>
                                    </th>
                                    <th scope="col" class="text-nowrap">
                                        <button type="button"
                                            class="btn btn-link p-0 text-decoration-none text-dark fw-bold"
                                            (click)="onSort('createTime')"
                                            [attr.aria-label]="getSortAriaLabel('createTime')">
                                            Âª∫Á´ãÊôÇÈñì
                                            <i [class]="getSortIcon('createTime')" aria-hidden="true"></i>
                                        </button>
                                    </th>
                                    <th scope="col" class="text-center">Êìç‰Ωú</th>
                                </tr>
                            </thead>
                            <tbody>
                                @for (course of courses(); track course.courseId) {
                                <tr role="row" [attr.aria-rowindex]="$index + 1">
                                    <!-- Ë™≤Á®ãÂêçÁ®± -->
                                    <td class="course-name-cell">
                                        <div class="fw-semibold"
                                            [innerHTML]="course.courseName | highlight:searchKeyword()"></div>
                                        @if (course.remark) {
                                        <small class="text-muted">{{ course.remark }}</small>
                                        }
                                    </td>

                                    <!-- Ë™≤Á®ãÊ¥ªÂãï -->
                                    <td>
                                        @if (course.courseEventId) {
                                        <span class="text-primary">{{ getCourseEventName(course.courseEventId) }}</span>
                                        } @else {
                                        <span class="text-muted">Êú™ÊåáÂÆö</span>
                                        }
                                    </td>

                                    <!-- Â≠∏ÁøíÊñπÂºè -->
                                    <td>
                                        @if (course.learningType) {
                                        <span class="badge"
                                            [class]="'bg-' + getLearningTypeVariant(course.learningType)">
                                            {{ course.learningType }}
                                        </span>
                                        } @else {
                                        <span class="text-muted">-</span>
                                        }
                                    </td>

                                    <!-- ÊäÄËÉΩÈ°ûÂûã -->
                                    <td>
                                        @if (course.skillType) {
                                        <span class="badge" [class]="'bg-' + getSkillTypeVariant(course.skillType)">
                                            {{ course.skillType }}
                                        </span>
                                        } @else {
                                        <span class="text-muted">-</span>
                                        }
                                    </td>

                                    <!-- Ë™≤Á®ãÁ≠âÁ¥ö -->
                                    <td>
                                        @if (course.level) {
                                        <span class="badge" [class]="'bg-' + getLevelVariant(course.level)">
                                            {{ course.level }}
                                        </span>
                                        } @else {
                                        <span class="text-muted">-</span>
                                        }
                                    </td>

                                    <!-- Ë™≤Á®ãÊôÇÊï∏ -->
                                    <td class="text-end">
                                        @if (course.hours) {
                                        <span class="fw-semibold">{{ course.hours }}</span>
                                        <small class="text-muted ms-1">Â∞èÊôÇ</small>
                                        } @else {
                                        <span class="text-muted">Êú™Ë®≠ÂÆö</span>
                                        }
                                    </td>

                                    <!-- ÂïüÁî®ÁãÄÊÖã -->
                                    <td>
                                        <span class="badge" [class]="course.isActive ? 'bg-success' : 'bg-secondary'">
                                            {{ course.isActive ? 'ÂïüÁî®' : 'ÂÅúÁî®' }}
                                        </span>
                                    </td>

                                    <!-- Âª∫Á´ãÊôÇÈñì -->
                                    <td>
                                        @if (course.createTime) {
                                        <div class="d-flex flex-column">
                                            <span class="small">{{ formatDate(course.createTime) }}</span>
                                            @if (course.createUser) {
                                            <small class="text-muted">{{ course.createUser }}</small>
                                            }
                                        </div>
                                        } @else {
                                        <span class="text-muted">-</span>
                                        }
                                    </td>

                                    <!-- Êìç‰ΩúÊåâÈàï -->
                                    <td class="text-center">
                                        <div class="btn-group btn-group-sm" role="group"
                                            [attr.aria-label]="'Ë™≤Á®ã ' + course.courseName + ' Êìç‰Ωú'">
                                            <button type="button" class="btn btn-outline-primary"
                                                (click)="onRowAction('view', course)"
                                                [attr.aria-label]="'Êü•ÁúãË™≤Á®ã ' + course.courseName">
                                                <i class="bi bi-eye" aria-hidden="true"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-warning"
                                                (click)="onRowAction('edit', course)"
                                                [attr.aria-label]="'Á∑®ËºØË™≤Á®ã ' + course.courseName">
                                                <i class="bi bi-pencil" aria-hidden="true"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger"
                                                (click)="onRowAction('delete', course)"
                                                [attr.aria-label]="'Âà™Èô§Ë™≤Á®ã ' + course.courseName">
                                                <i class="bi bi-trash" aria-hidden="true"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    } @else {
                    <!-- Á©∫ÁãÄÊÖã -->
                    <div class="text-center py-5">
                        <i class="bi bi-inbox display-1 text-muted"></i>
                        <h4 class="mt-3 text-muted">{{ getEmptyStateTitle() }}</h4>
                        <p class="text-muted">{{ getEmptyStateMessage() }}</p>
                        <button type="button" class="btn"
                            [class]="hasActiveFilters() ? 'btn-outline-primary' : 'btn-primary'"
                            (click)="onEmptyStateAction()">
                            <i [class]="getEmptyStateActionIcon() + ' me-1'"></i>
                            {{ getEmptyStateActionText() }}
                        </button>
                    </div>
                    }
                </div>

                <!-- üî¢ ÂàÜÈ†ÅÊéßÂà∂ -->
                @if (hasData() && totalPages() > 1) {
                <div class="card-footer">
                    <nav aria-label="Ë™≤Á®ãÂàóË°®ÂàÜÈ†ÅÂ∞éËà™">
                        <div class="row align-items-center">
                            <div class="col-md-6">
                                <div class="d-flex align-items-center">
                                    <label for="pageSizeSelect" class="form-label me-2 mb-0">ÊØèÈ†ÅÁ≠ÜÊï∏:</label>
                                    <select id="pageSizeSelect" class="form-select form-select-sm" style="width: auto;"
                                        [value]="pageSize()" (change)="onPageSizeChange($event)" [disabled]="loading()">
                                        <option value="10">10</option>
                                        <option value="20">20</option>
                                        <option value="50">50</option>
                                        <option value="100">100</option>
                                    </select>
                                    <span class="text-muted ms-2 small">
                                        È°ØÁ§∫Á¨¨ {{ (currentPage() - 1) * pageSize() + 1 }} - {{ this.Math.min(currentPage()
                                        * pageSize(), totalRecords()) }} Á≠ÜÔºå
                                        ÂÖ± {{ totalRecords() }} Á≠Ü
                                    </span>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <ul class="pagination pagination-sm justify-content-end mb-0">
                                    <!-- ‰∏ä‰∏ÄÈ†Å -->
                                    <li class="page-item" [class.disabled]="!hasPrevious() || loading()">
                                        <button type="button" class="page-link" (click)="onPreviousPage()"
                                            [disabled]="!hasPrevious() || loading()" aria-label="‰∏ä‰∏ÄÈ†Å">
                                            <i class="bi bi-chevron-left" aria-hidden="true"></i>
                                        </button>
                                    </li>

                                    <!-- È†ÅÁ¢º -->
                                    @for (page of getVisiblePages(); track page) {
                                    <li class="page-item" [class.active]="page === currentPage()">
                                        @if (page === currentPage()) {
                                        <span class="page-link" [attr.aria-current]="'page'"
                                            [attr.aria-label]="'ÁõÆÂâçÈ†ÅÈù¢ÔºåÁ¨¨ ' + page + ' È†Å'">
                                            {{ page }}
                                        </span>
                                        } @else {
                                        <button type="button" class="page-link" (click)="onPageChange(page)"
                                            [disabled]="loading()" [attr.aria-label]="'ÂâçÂæÄÁ¨¨ ' + page + ' È†Å'">
                                            {{ page }}
                                        </button>
                                        }
                                    </li>
                                    }

                                    <!-- ‰∏ã‰∏ÄÈ†Å -->
                                    <li class="page-item" [class.disabled]="!hasNext() || loading()">
                                        <button type="button" class="page-link" (click)="onNextPage()"
                                            [disabled]="!hasNext() || loading()" aria-label="‰∏ã‰∏ÄÈ†Å">
                                            <i class="bi bi-chevron-right" aria-hidden="true"></i>
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                </div>
                }
            </div>
        </div>
    </div>

    <!-- üîÑ ÈåØË™§Ë®äÊÅØ -->
    @if (errorMessage()) {
    <div class="alert alert-danger mt-3" role="alert">
        <i class="bi bi-exclamation-triangle me-2"></i>
        <strong>ËºâÂÖ•Â§±ÊïóÔºö</strong>{{ errorMessage() }}
        <button type="button" class="btn btn-outline-danger btn-sm ms-2" (click)="onRetry()">
            <i class="bi bi-arrow-clockwise me-1"></i>
            ÈáçË©¶
        </button>
    </div>
    }

    <!-- üìù Á¢∫Ë™çÂ∞çË©±Ê°Ü -->
    <div class="modal fade" #confirmationModal tabindex="-1" aria-labelledby="confirmationModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmationModalLabel">{{ confirmationTitle() }}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    @if (confirmationVariant() === 'danger') {
                    <i class="bi bi-exclamation-triangle-fill text-danger display-4 mb-3"></i>
                    } @else if (confirmationVariant() === 'warning') {
                    <i class="bi bi-exclamation-circle-fill text-warning display-4 mb-3"></i>
                    } @else {
                    <i class="bi bi-info-circle-fill text-info display-4 mb-3"></i>
                    }
                    <p class="mb-0">{{ confirmationMessage() }}</p>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-secondary" (click)="onCancelAction()"
                        [disabled]="confirmationLoading()">
                        {{ confirmationCancelText() }}
                    </button>
                    <button type="button" class="btn"
                        [class]="confirmationVariant() === 'danger' ? 'btn-danger' : 'btn-primary'"
                        (click)="onConfirmAction()" [disabled]="confirmationLoading()">
                        @if (confirmationLoading()) {
                        <span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
                        }
                        {{ confirmationConfirmText() }}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>