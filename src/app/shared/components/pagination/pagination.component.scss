@use '../../../../styles/variables' as vars;

.pagination-wrapper {
    .pagination-info {
        color: var(--bs-secondary-color);
        font-size: 0.875rem;
        margin-bottom: 0.5rem;
    }

    .pagination-nav {
        .pagination {
            --bs-pagination-padding-x: 0.75rem;
            --bs-pagination-padding-y: 0.375rem;
            --bs-pagination-font-size: 0.875rem;
            --bs-pagination-color: var(--bs-link-color);
            --bs-pagination-bg: var(--bs-body-bg);
            --bs-pagination-border-width: 1px;
            --bs-pagination-border-color: var(--bs-border-color);
            --bs-pagination-border-radius: var(--bs-border-radius);
            --bs-pagination-hover-color: var(--bs-link-hover-color);
            --bs-pagination-hover-bg: var(--bs-tertiary-bg);
            --bs-pagination-hover-border-color: var(--bs-border-color);
            --bs-pagination-focus-color: var(--bs-link-hover-color);
            --bs-pagination-focus-bg: var(--bs-secondary-bg);
            --bs-pagination-focus-box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
            --bs-pagination-active-color: var(--bs-white);
            --bs-pagination-active-bg: var(--bs-primary);
            --bs-pagination-active-border-color: var(--bs-primary);
            --bs-pagination-disabled-color: var(--bs-secondary-color);
            --bs-pagination-disabled-bg: var(--bs-secondary-bg);
            --bs-pagination-disabled-border-color: var(--bs-border-color);

            .page-item {
                .page-link {
                    position: relative;
                    display: block;
                    padding: var(--bs-pagination-padding-y) var(--bs-pagination-padding-x);
                    font-size: var(--bs-pagination-font-size);
                    color: var(--bs-pagination-color);
                    text-decoration: none;
                    background-color: var(--bs-pagination-bg);
                    border: var(--bs-pagination-border-width) solid var(--bs-pagination-border-color);
                    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

                    &:hover:not(:disabled) {
                        z-index: 2;
                        color: var(--bs-pagination-hover-color);
                        background-color: var(--bs-pagination-hover-bg);
                        border-color: var(--bs-pagination-hover-border-color);
                    }

                    &:focus {
                        z-index: 3;
                        color: var(--bs-pagination-focus-color);
                        background-color: var(--bs-pagination-focus-bg);
                        outline: 0;
                        box-shadow: var(--bs-pagination-focus-box-shadow);
                    }

                    &:disabled {
                        color: var(--bs-pagination-disabled-color);
                        pointer-events: none;
                        background-color: var(--bs-pagination-disabled-bg);
                        border-color: var(--bs-pagination-disabled-border-color);
                        cursor: not-allowed;
                    }
                }

                &:not(:first-child) .page-link {
                    margin-left: calc(-1 * var(--bs-pagination-border-width));
                }

                &:first-child .page-link {
                    border-top-left-radius: var(--bs-pagination-border-radius);
                    border-bottom-left-radius: var(--bs-pagination-border-radius);
                }

                &:last-child .page-link {
                    border-top-right-radius: var(--bs-pagination-border-radius);
                    border-bottom-right-radius: var(--bs-pagination-border-radius);
                }

                &.active .page-link {
                    z-index: 3;
                    color: var(--bs-pagination-active-color);
                    background-color: var(--bs-pagination-active-bg);
                    border-color: var(--bs-pagination-active-border-color);
                }

                &.disabled .page-link {
                    color: var(--bs-pagination-disabled-color);
                    pointer-events: none;
                    background-color: var(--bs-pagination-disabled-bg);
                    border-color: var(--bs-pagination-disabled-border-color);
                }
            }
        }
    }

    .page-size-selector {
        .form-label {
            color: var(--bs-secondary-color);
            font-size: 0.875rem;
            white-space: nowrap;
        }

        .form-select {
            min-width: 80px;
            max-width: 120px;
            border-color: var(--bs-border-color);

            &:focus {
                border-color: var(--bs-primary);
                box-shadow: 0 0 0 0.2rem rgba(var(--bs-primary-rgb), 0.25);
            }

            &:disabled {
                background-color: var(--bs-secondary-bg);
                opacity: 0.65;
                cursor: not-allowed;
            }
        }
    }

    // 響應式設計
    @media (max-width: 576px) {
        .pagination-info {
            font-size: 0.75rem;
        }

        .pagination {
            --bs-pagination-padding-x: 0.5rem;
            --bs-pagination-padding-y: 0.25rem;
            --bs-pagination-font-size: 0.75rem;

            .page-link {
                min-width: 2rem;
                text-align: center;
            }
        }

        .page-size-selector {
            flex-direction: column;
            gap: 0.25rem;

            .form-label {
                margin-bottom: 0;
                text-align: center;
            }

            .form-select {
                min-width: 100px;
            }
        }

        // 在小螢幕上隱藏第一頁/最後一頁按鈕
        .page-item:first-child,
        .page-item:last-child {
            display: none;
        }
    }

    // 超小螢幕優化
    @media (max-width: 400px) {
        .pagination {
            --bs-pagination-padding-x: 0.375rem;
            --bs-pagination-padding-y: 0.25rem;

            .page-link {
                min-width: 1.75rem;
                font-size: 0.75rem;
            }
        }
    }

    // 高對比模式支援
    @media (prefers-contrast: high) {
        .pagination {
            .page-link {
                border-width: 2px;
                font-weight: 600;
            }
        }

        .form-select {
            border-width: 2px;
        }
    }

    // 減少動畫模式支援
    @media (prefers-reduced-motion: reduce) {

        .page-link,
        .form-select {
            transition: none;
        }
    }

    // 無障礙增強
    .page-link {
        &:focus-visible {
            outline: 2px solid var(--bs-primary);
            outline-offset: 2px;
        }
    }

    // 載入狀態
    &.loading {

        .page-link,
        .form-select {
            pointer-events: none;
            opacity: 0.6;
        }
    }

    // 暗色主題支援
    @media (prefers-color-scheme: dark) {
        .pagination-info {
            color: var(--bs-secondary-color);
        }
    }
}